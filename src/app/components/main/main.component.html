<div class="flex h-screen">
  <!-- Spinner de carga -->
  <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>

  <!-- Contenido de la aplicaciÃ³n (oculto durante la carga) -->
  <div *ngIf="!isLoading" class="flex h-screen w-full">
    <!-- Sidebar -->
    <app-sidebar
      (categorySelected)="updateSelectedCategory($event)"
      (tagSelected)="updateSelectedTag($event)"
    ></app-sidebar>

    <div class="flex-1 flex flex-col h-full">
      <!-- Topbar -->
      <app-topbar
        [selectedCategory]="selectedCategory"
        [selectedTag]="selectedTag"
      ></app-topbar>

      <div class="flex flex-1 overflow-hidden h-full">
        <!-- Note List -->
        <app-note-list
          [selectedTag]="selectedTag"
          [showArchived]="showArchived"
          (noteSelected)="onNoteSelected($event)"
          class="w-1/4 p-4 overflow-y-auto border-r border-gray-200 [scrollbar-width:none] [-ms-overflow-style:none] [-webkit-overflow-scrolling:touch]"
        ></app-note-list>

        <!-- Note Editor -->
        <app-note-editor
          [selectedNote]="selectedNote"
          (saveNote)="onSaveNote($event)"
          (cancelEdit)="onCancelEdit()"
          class="flex-1 p-6 overflow-y-auto"
        ></app-note-editor>

        <!-- Right Sidebar -->
        <app-right-sidebar class="w-64 bg-white border-l border-gray-200"></app-right-sidebar>
      </div>
    </div>
  </div>
</div>